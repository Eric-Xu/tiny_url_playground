function createUrl() {
	$('#url_original_url').val('');
	$('#url_list').prepend('<%= escape_javascript(render @url) %>');
}

function hideDefinitions() {
	var $urlDefinitions = $('#url_list li:first').find('.definitions');
	$urlDefinitions.removeClass('showing').addClass('hidden');
}

function initTranslateBtn() {
	var $newUrl = $('#url_list li:first');
	var $translateButton = $newUrl.find('.translate');
	var $urlDefinitions = $newUrl.find('.definitions');

	$translateButton.removeClass('hidden').addClass('showing');
	$translateButton.click(function() {
		if ($(this).text() == 'Translate') {
			$(this).text('Hide');
		} else {
			$(this).text('Translate');
		}
	  return $urlDefinitions.slideToggle('slow', function(){
			$urlDefinitions.toggleClass('hidden', $(this).is(':hidden'))
			$urlDefinitions.toggleClass('showing', $(this).is(':visible'))
	  });
	});
}

createUrl();
hideDefinitions();
initTranslateBtn();